@page "/rbac/menu"


<PageHeader Class="site-page-header">
    <!--breadcrumb-->
    <PageHeaderBreadcrumb>
        <Breadcrumb>
            <BreadcrumbItem>角色权限</BreadcrumbItem>
           
            <BreadcrumbItem>菜单管理</BreadcrumbItem>
        </Breadcrumb>
    </PageHeaderBreadcrumb>

    <!--avatar-->
    <PageHeaderAvatar>
        <Avatar Src="https://avatars0.githubusercontent.com/u/22736418?s=88&v=4" />
    </PageHeaderAvatar>
    <!--title-->
    <PageHeaderTitle>菜单管理</PageHeaderTitle>

    <!--subtitle-->
    <PageHeaderSubtitle>菜单,权限</PageHeaderSubtitle>

    <!--tags-->
    <PageHeaderTags>
        <Tag Color="blue">已认证</Tag>
    </PageHeaderTags>

    <!--extra-->
    <PageHeaderExtra>
        <Button>新增顶级菜单</Button>
        <Button>添加同级菜单</Button>
        <Button Type="@ButtonType.Primary">添加下级菜单</Button>
        <Dropdown Placement="@PlacementType.BottomRight">
            <Overlay>
                <Menu> 
                    <MenuItem>
                        1st menu item
                    </MenuItem>
                    <MenuItem>
                        2nd menu item
                    </MenuItem>
                    <MenuItem>
                        3rd menu item
                    </MenuItem>
                </Menu>
            </Overlay>
            <ChildContent>
                <Button><Icon Type="ellipsis" /></Button>
            </ChildContent>
        </Dropdown>
    </PageHeaderExtra>

    <!--content-->
    <PageHeaderContent>
        <Row>
            <div class="pageheader-content">
                <div>
                    ShowLine <Switch Checked="_showLine" OnChange="(v)=>_showLine = v" />
                    <br />
                    ShowIcon <Switch Checked="_showIcon" OnChange="(v)=>_showIcon = v" />
                    <br />
                    <Tree ShowLine="_showLine" ShowIcon="_showIcon" IconType="carry-out" Nodes="TreeNodes"></Tree>
                </div>
                <div class="pageheader-content-link">
                    <a> <img src="https://gw.alipayobjects.com/zos/rmsportal/MjEImQtenlyueSmVEfUD.svg" alt="start" />Quick Start </a>
                    <a> <img src="https://gw.alipayobjects.com/zos/rmsportal/NbuDUAuBlIApFuDvWiND.svg" alt="info" />Product Info </a>
                    <a> <img src="https://gw.alipayobjects.com/zos/rmsportal/ohOEPSYdDTNnyMbGuyLb.svg" alt="doc" />Product Doc </a>
                </div>
            </div>
            <div class="pageheader-content-image">
                <img src="https://gw.alipayobjects.com/zos/antfincdn/K%24NnlsB%26hz/pageHeader.svg" alt="content" />
            </div>
        </Row>
    </PageHeaderContent>
</PageHeader>

<style>
    .pageheader-content {
        flex: 1;
    }

        .pageheader-content p {
            margin-bottom: 1em;
        }

    .pageheader-content-link a {
        margin-right: 16px;
    }

    .content-link a img {
        margin-right: 8px;
    }

    .pageheader-content-image {
        margin: 0 0 0 60px;
        display: flex;
        align-items: center;
    }

        .pageheader-content-image img {
            width: 100%;
        }
</style>

@code{

    bool _showLine { get; set; } = true;
    bool _showIcon { get; set; }

    List<TreeNode> _treeNodes;

    public List<TreeNode> TreeNodes
    {
        get
        {
            if (_treeNodes != null)
                return _treeNodes;

            _treeNodes = new List<TreeNode>(){
                new TreeNode
                {
                    Text = "parent 1",IsExpanded = true,
                    Nodes ={
                        new TreeNode
                        {
                            Text="parent 1-0",IsExpanded=true,
                            Nodes={
                                new TreeNode{ Text="leaf" }
                                ,
                                new TreeNode{ Text="leaf" }
                                ,
                                new TreeNode{ Text="leaf" }
                            }
                        },
                        new TreeNode
                        {
                            Text="parent 1-1",
                            Nodes={
                                new TreeNode{ Text="leaf"},
                            }
                        },
                        new TreeNode
                        {
                            Text="parent 1-2",
                            Nodes={
                                new TreeNode{ Text="leaf",SwitcherIcon="form"},
                            }
                        }
                    }
                }
            };

            return _treeNodes;
        }
    }
}